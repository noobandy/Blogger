<div class="row">
	<div class="col-md-12">
			<form class="well" name="commentForm" ng-submit="commentForm.$valid && postComment()" novalidate>
				<legend>Post Comment</legend>
				<div class="form-group">
					<textarea ng-model="newCommentText" class="form-control input-lg" placeholder="write your comment" required></textarea>
				</div>
				<button class="btn btn-primary">
					Submit
				</button>
			</form>
	</div>
</div>
<script type="text/ng-template" id="commentTree">
	<a class="media-left" href="#">
      	<img class="img-circle" holder="holder.js/64x64">
    </a>
	<div class="media-body">
	    <h4 class="media-heading">
	        <a href="">
	        	{{comment.author_id}}
	        </a>
	        <small am-time-ago="comment.created_at">
	        </small>
	    </h4>
	    <p>
	        {{comment.comment}}
	    </p>
	    <div>
			<a class="comment-control left" href="">
				<i class="glyphicon glyphicon-thumbs-up"></i>
			</a>
			<a class="comment-control left" href="">
				<i class="glyphicon glyphicon-thumbs-down"></i>
			</a>
			<a class="comment-control" href="">
				Reply
			</a>
		</div>
		<ul class="media-list" ng-if="comment.replies.length > 0">
	        <li class="media" ng-repeat="comment in comment.replies" 
	        ng-include="'commentTree'">           
	        </li>
    	</ul>
	</div>
</script>

<div class="row">
	<div class="col-md-12">
		<ul class="media-list">
  			<li ng-repeat="comment in comments" class="media" ng-include="'commentTree'">
  			</li>
		</ul>
	</div>
</div>

